<h1 mat-dialog-title>Extrato do Período</h1>
<h2 class="subtitulo">{{ extrato.periodo.inicio | date:'dd/MM/yyyy' }} a {{ extrato.periodo.fim | date:'dd/MM/yyyy' }}</h2>

<div mat-dialog-content class="conteudo-dialogo">
  <div class="saldo-inicial">
    <span>Saldo Inicial do Período:</span>
    <strong>{{ extrato.saldoInicial | currency:'BRL' }}</strong>
  </div>

  <!-- for dia -->
  <div *ngFor="let dia of extrato.dias" class="container-dia">
    <div class="cabecalho-dia">
      <h3>{{ dia.data | date:'dd/MM/yyyy' }}</h3>
      <div class="saldo-consolidado">
        <span>Saldo do Dia:</span>
        <strong>{{ dia.saldoConsolidado | currency:'BRL' }}</strong>
      </div>
    </div>

    <div *ngIf="dia.transacoes.length === 0; else tabelaTransacoes" class="sem-transacoes">
      <p>Sem movimentações neste dia.</p>
    </div>

    <ng-template #tabelaTransacoes>
      <table class="tabela-transacoes">
        <thead>
          <tr>
            <th>Hora</th>
            <th>Operação</th>
            <th>Detalhes</th>
            <th>Valor</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let transacao of dia.transacoes" [ngClass]="{ 'saida': saida(transacao), 'entrada': !saida(transacao) }">
            <td>{{ transacao.data | date:'HH:mm' }}</td>
            <td>{{ transacao.tipo }}</td>
            <td>
              <span *ngIf="transacao.tipo === 'Transferencia'">
                {{ saida(transacao) ? 'Para: ' + transacao.clienteDestino : 'De: ' + transacao.clienteOrigem }}
              </span>
            </td>
            <td>
              {{ (saida(transacao) ? -transacao.valor : transacao.valor) | currency:'BRL' }}
            </td>
          </tr>
        </tbody>
      </table>
    </ng-template>
  </div>
</div>

<div mat-dialog-actions align="end">
  <button mat-flat-button color="primary" mat-dialog-close>Fechar</button>
</div>
