<app-navbar></app-navbar>
<section class="container" *ngIf="conta">
  <div class="section-content">
    <h2>Informações</h2>

    <div class="saldo-content">
      <span>Saldo disponível</span>

      <div class="info-saldo">
        <mat-icon
          aria-hidden="false"
          aria-label="Ícone de 'wallet'"
          fontIcon="wallet"
        ></mat-icon>
        <span>{{ conta.saldo | currency : "BRL" : "symbol" : "1.2-2" }}</span>
      </div>
    </div>

    <div class="info-extrato">
      <mat-icon
        aria-hidden="false"
        aria-label="Ícone de 'attach_money'"
        fontIcon="attach_money"
      ></mat-icon>
      <a routerLink="/">Visualizar extrato</a>
    </div>
  </div>

  <div class="section-content">
    <h2>Operações</h2>
    <div class="content-operacoes">
      <div class="operacao" [class.operacaoAtiva]="operacaoAtiva == 'saque'">
        <button class="op" (click)="expandirOperacao('saque')">
          <span>Saque</span>
          <mat-icon
            aria-hidden="false"
            aria-label="Ícone de 'seta'"
            fontIcon="chevron_right"
          ></mat-icon>
        </button>

        <div *ngIf="operacaoAtiva == 'saque'" class="campos-operacao">
          <input
            class="valor-input"
            type="number"
            placeholder="Insira um valor"
            [(ngModel)]="valorSaque"
          />
          <div class="acao-btn">
            <button class="enviar-btn" (click)="realizarSaque()">Enviar</button>
          </div>
          <div *ngIf="mensagem && operacaoAtiva == 'saque'" class="mensagem-operacao"
            [ngClass]="{ 'sucesso': tipoMensagem === 'sucesso', 'erro': tipoMensagem === 'erro' }">
            {{ mensagem }}
          </div>
        </div>
      </div>

      <div class="operacao" [class.operacaoAtiva]="operacaoAtiva == 'deposito'">
        <button class="op" (click)="expandirOperacao('deposito')">
          <span>Depósito</span>
          <mat-icon
            aria-hidden="false"
            aria-label="Ícone de 'seta'"
            fontIcon="chevron_right"
          ></mat-icon>
        </button>

        <div *ngIf="operacaoAtiva == 'deposito'" class="campos-operacao">
          <input
            class="valor-input"
            type="number"
            placeholder="Insira um valor"
            [(ngModel)]="valorDeposito"
          />
          <div class="acao-btn">
            <button class="enviar-btn" (click)="realizarDeposito()">Enviar</button>
          </div>
          <div *ngIf="mensagem && operacaoAtiva == 'deposito'" class="mensagem-operacao"
            [ngClass]="{ 'sucesso': tipoMensagem === 'sucesso', 'erro': tipoMensagem === 'erro' }">
            {{ mensagem }}
          </div>
        </div>
      </div>

      <div
        class="operacao"
        [class.operacaoAtiva]="operacaoAtiva == 'transferencia'"
      >
        <button class="op" (click)="expandirOperacao('transferencia')">
          <span>Transferência</span>
          <mat-icon
            aria-hidden="false"
            aria-label="Ícone de 'seta'"
            fontIcon="chevron_right"
          ></mat-icon>
        </button>

        <div *ngIf="operacaoAtiva == 'transferencia'" class="campos-operacao">
          <input
            class="valor-input"
            type="number"
            placeholder="Insira um valor"
          />
          <div class="acao-btn">
            <button class="enviar-btn">Enviar</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
