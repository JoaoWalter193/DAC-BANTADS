<app-navbar></app-navbar>

<div class="tela-gerente-cadastro">
  <div class="content">
    <h2>Cadastrar Gerente</h2>

    <!-- Mensagem de feedback -->
    <div
      *ngIf="mensagem"
      [class]="tipoMensagem === 'sucesso' ? 'mensagem-sucesso' : 'mensagem-erro'"
      class="mensagem"
    >
      {{ mensagem }}
    </div>

    <!-- Formulário de cadastro -->
    <form (ngSubmit)="onSubmit()" class="form-gerente">
      <label for="nome">Nome Completo *</label>
      <input
        type="text"
        id="nome"
        name="nome"
        [(ngModel)]="gerente.nome"
        required
      />

      <label for="cpf">CPF *</label>
      <input
        type="text"
        id="cpf"
        name="cpf"
        [(ngModel)]="gerente.cpf"
        (input)="formatarCPF($event)"
        placeholder="000.000.000-00"
        maxlength="14"
        required
      />
      <div
        *ngIf="gerente.cpf && !validarCPF(gerente.cpf)"
        class="mensagem-erro"
      >
        CPF inválido
      </div>

      <label for="email">E-mail *</label>
      <input
        type="email"
        id="email"
        name="email"
        [(ngModel)]="gerente.email"
        required
      />

      <label for="senha">Senha *</label>
      <input
        type="password"
        id="senha"
        name="senha"
        [(ngModel)]="gerente.senha"
        required
      />

      <div class="btns">
        <button class="btn-voltar" matButton="tonal" (click)="voltar()">
          Voltar
        </button>

        <button class="btn-cadastrar" type="submit" [disabled]="carregando">
          {{ carregando ? 'Processando...' : 'Cadastrar' }}
          <span *ngIf="carregando" class="loading"></span>
        </button>
      </div>
    </form>
  </div>
</div>
<app-footer></app-footer>
