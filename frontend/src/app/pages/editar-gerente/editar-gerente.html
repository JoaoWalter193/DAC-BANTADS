<div class="tela-gerente-editar">
  <h2>Editar Gerente (CPF: {{ cpf }})</h2>

  <!-- Mensagem de feedback -->
  <div
    *ngIf="mensagem"
    [class]="tipoMensagem === 'sucesso' ? 'mensagem-sucesso' : 'mensagem-erro'"
    class="mensagem"
  >
    {{ mensagem }}
  </div>

  <!-- Formulário: usa *ngIf="form" para carregar após a inicialização e [formGroup]="form" para o binding -->
  <form *ngIf="form" [formGroup]="form" (ngSubmit)="onSubmit()" class="form-gerente">

    <label for="nome">Nome Completo *</label>
    <input
      type="text"
      id="nome"
      formControlName="nome"
      required
    />

    <!-- Feedback de validação de campo (exemplo) -->
    <div *ngIf="form.get('nome')?.invalid && form.get('nome')?.touched" class="mensagem-erro">
        O nome é obrigatório.
    </div>

    <label for="cpf">CPF *</label>
    <!-- CPF desabilitado e preenchido automaticamente. Não deve ser editável. -->
    <input
      type="text"
      id="cpf"
      formControlName="cpf"
      placeholder="000.000.000-00"
      maxlength="14"

    />

    <label for="email">E-mail *</label>
    <input
      type="email"
      id="email"
      formControlName="email"
      required
    />
    <div *ngIf="form.get('email')?.invalid && form.get('email')?.touched" class="mensagem-erro">
        E-mail inválido.
    </div>

    <label for="senha">Nova Senha</label>
    <input
      type="password"
      id="senha"
      formControlName="senha"
      placeholder="Senha"
    />

    <div class="button-group">
        <button type="submit" [disabled]="carregando || form.invalid">
          {{ carregando ? 'Processando...' : 'Salvar Alterações' }}
          <span *ngIf="carregando" class="loading"></span>
        </button>

        <button type="button" (click)="voltarParaLista()" class="secondary-button" [disabled]="carregando">
            Voltar
        </button>
    </div>
  </form>
</div>
